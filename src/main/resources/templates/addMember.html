<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:replace="~{fragments/admin_layout :: layout(~{::content}, 'addMember')}">

<head>
    <title>Add Member</title>
</head>

<body>
    <div th:fragment="content" class="w-full max-w-4xl mx-auto" th:with="currentPage='addMember'">
        <!-- Header -->
        <div class="mb-10 text-center">
            <h1 class="text-4xl font-serif font-bold text-slate-800 mb-2">Add New Member</h1>
            <p class="text-slate-500 text-lg">Manually register a student or teacher.</p>
        </div>

        <!-- Add Member Form Panel -->
        <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-8 md:p-12">

            <!-- Messages -->
            <div th:if="${success}"
                class="mb-6 p-4 rounded-lg bg-emerald-50 text-emerald-700 border border-emerald-200 flex items-center gap-3">
                <i class="fa fa-check-circle text-xl"></i>
                <span th:text="${success}"></span>
            </div>
            <div th:if="${error}"
                class="mb-6 p-4 rounded-lg bg-red-50 text-red-700 border border-red-200 flex items-center gap-3">
                <i class="fa fa-exclamation-circle text-xl"></i>
                <span th:text="${error}"></span>
            </div>

            <form action="/admin/add-member/save" method="post" th:object="${registration}"
                class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- Name -->
                <div class="md:col-span-2">
                    <label class="block text-slate-700 text-sm font-semibold mb-2 uppercase tracking-wider">Full
                        Name</label>
                    <div class="relative">
                        <div
                            class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-slate-400">
                            <i class="fa fa-user"></i>
                        </div>
                        <input type="text" th:field="*{name}"
                            class="w-full h-12 pl-10 pr-4 bg-slate-50 border border-slate-200 rounded-lg focus:border-primary focus:ring-1 focus:ring-primary focus:outline-none transition-all"
                            placeholder="Enter member's full name" required />
                    </div>
                </div>

                <!-- Email -->
                <div>
                    <label class="block text-slate-700 text-sm font-semibold mb-2 uppercase tracking-wider">Email
                        Address</label>
                    <div class="relative">
                        <div
                            class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-slate-400">
                            <i class="fa fa-envelope"></i>
                        </div>
                        <input type="email" th:field="*{email}"
                            class="w-full h-12 pl-10 pr-4 bg-slate-50 border border-slate-200 rounded-lg focus:border-primary focus:ring-1 focus:ring-primary focus:outline-none transition-all"
                            placeholder="example@email.com" required />
                    </div>
                </div>

                <!-- User Type -->
                <div>
                    <label class="block text-slate-700 text-sm font-semibold mb-2 uppercase tracking-wider">Member
                        Type</label>
                    <div class="relative">
                        <div
                            class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-slate-400">
                            <i class="fa fa-id-badge"></i>
                        </div>
                        <select th:field="*{userType}"
                            class="w-full h-12 pl-10 pr-4 bg-slate-50 border border-slate-200 rounded-lg focus:border-primary focus:ring-1 focus:ring-primary focus:outline-none transition-all appearance-none cursor-pointer"
                            required>
                            <option value="" disabled selected hidden> Student or Teacher</option>
                            <option value="student">Student</option>
                            <option value="teacher">Teacher</option>
                        </select>
                        <div
                            class="absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none text-slate-400">
                            <i class="fa fa-chevron-down text-xs"></i>
                        </div>
                    </div>
                </div>

                <!-- Password -->
                <div class="md:col-span-2">
                    <label
                        class="block text-slate-700 text-sm font-semibold mb-2 uppercase tracking-wider">Password</label>
                    <div class="relative">
                        <div
                            class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-slate-400">
                            <i class="fa fa-lock"></i>
                        </div>
                        <input type="password" id="adminPassword" th:field="*{password}"
                            class="w-full h-12 pl-10 pr-10 bg-slate-50 border border-slate-200 rounded-lg focus:border-primary focus:ring-1 focus:ring-primary focus:outline-none transition-all"
                            placeholder="Set a password" required />
                        <span onclick="toggleAdminPassword()"
                            class="absolute inset-y-0 right-0 pr-3 flex items-center cursor-pointer text-slate-400 hover:text-primary transition">
                            <i class="fa fa-eye" id="adminToggleIcon"></i>
                        </span>
                    </div>
                </div>


                <!-- Submit Button -->
                <div class="md:col-span-2 mt-4">
                    <button type="submit"
                        class="w-full bg-slate-800 hover:bg-slate-700 text-white font-bold py-3 px-4 rounded-lg transition shadow-lg shadow-blue-200 transform active:scale-95 uppercase tracking-wider flex items-center justify-center gap-2">
                        <i class="fa fa-plus-circle"></i> Add Member
                    </button>
                </div>
            </form>
        </div>
    </div>
    <script>
        function toggleAdminPassword() {
            const passwordInput = document.getElementById("adminPassword");
            const toggleIcon = document.getElementById("adminToggleIcon");

            if (passwordInput.type === "password") {
                passwordInput.type = "text";
                toggleIcon.classList.remove("fa-eye");
                toggleIcon.classList.add("fa-eye-slash");
            } else {
                passwordInput.type = "password";
                toggleIcon.classList.remove("fa-eye-slash");
                toggleIcon.classList.add("fa-eye");
            }
        }
    </script>
</body>

</html>