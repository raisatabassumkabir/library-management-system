<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Library Management System - Defaulters</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
</head>
<body>

<div class="sidebar">
    <h2>Admin Panel</h2>
    <a href="/adminDashboard"><i class="fa fa-home"></i> Dashboard</a>
    <a href="/manageBook"><i class="fa fa-book"></i> Manage Book</a>
    <a href="/issuedBook"><i class="fa fa-book-reader"></i> Issued Book</a>
    <a href="/returnBook"><i class="fa fa-undo"></i> Return Book</a>
    <a href="http://localhost:8080/viewMembers"><i class="fa fa-users"></i> View Members</a>
    <a href="http://localhost:8080/index"><i class="fa fa-user-plus"></i> Add Member</a>
    <a href="http://localhost:8080/defaulterList"><i class="fa fa-ban"></i> Defaulters</a>
    <a href="http://localhost:8080/index"><i class="fa fa-sign-out"></i> Sign Out</a>
</div>

<div class="content-area">

    <div th:if="${msg}" class="alert-success" th:text="${msg}"></div>
    <div class="book-list">
        <h2 class="form-title">Defaulter List</h2>
        <table class="book-table">
            <thead>
            <tr>
                <th>Email</th>
                <th>Defaulter ID</th>
                <th>ISBN</th>
                <th>Book Title</th>
                <th>Issue Date</th>
                <th>Return Date</th>
                <th>Fine Amount</th>
                <th> Action</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="defaulter : ${defaulters}">
                <td th:text="${defaulter.email}"></td>
                <td th:text="${defaulter.defaulterId}"></td>
                <td th:text="${defaulter.isbn}"></td>
                <td th:text="${defaulter.title}"></td>
                <td th:text="${defaulter.issueDate}"></td>
                <td th:text="${defaulter.returnDate}"></td>
                <td th:text="${defaulter.fineAmount}">Fine</td>

                <td>
                    <form th:action="@{/admin/clearDefaulter}" method="post" style="display:inline;">
                        <input type="hidden" name="defaulterId" th:value="${defaulter.defaulterId}">
                        <button type="submit" class="btn btn-danger">
                            <i class="fa fa-check"></i> Clear
                        </button>
                    </form>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
</div>

</body>
</html>
<style>
    body {
        font-family: Arial, sans-serif;
        background-color: #f4f7fa;
        display: flex;
        margin: 0;
    }
    .sidebar {
        width: 250px;
        background-color: #2c3e50;
        height: 100vh;
        color: white;
        padding: 20px 0;
        position: fixed;
    }
    .sidebar h2 {
        text-align: center;
        margin-bottom: 30px;
    }
    .sidebar a {
        color: white;
        padding: 15px 30px;
        display: block;
        text-decoration: none;
    }
    .sidebar a:hover {
        background-color: #34495e;
    }
    .content-area {
        margin-left: 250px;
        padding: 40px;
        width: 100%;
    }
    .form-title {
        text-align: center;
        margin-bottom: 20px;
        font-size: 28px;
        font-weight: bold;
        color: #2c3e50;
    }
    .book-list {
        background-color: #fff;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        border-radius: 8px;
        padding: 20px;
    }
    .book-table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 20px;
    }
    .book-table th, .book-table td {
        padding: 12px;
        text-align: center;
        border-bottom: 1px solid #ddd;
    }
    .book-table th {
        background-color: #2c7ad6;
        color: white;
        text-transform: uppercase;
    }
    .book-table tbody tr:hover {
        background-color: #f2f6ff;
    }
</style>
